import{r as l,g as e,a,c as n,w as t,i as s,o,b as u,d as i,e as c,n as d,I as f,f as p,t as r,s as v,h as g,j as _}from"./index-C11iUV34.js";import{o as m}from"./uni-app.es.Cyg1xdjM.js";import{_ as h}from"./_plugin-vue_export-helper.BCo6x5W8.js";const b=h({__name:"login",setup(h){const b=l("phone"),k=l(""),x=l(""),V=l(0),C=l(""),y=l("");let I=null;function j(){/^1[3-9]\d{9}$/.test(k.value)?(V.value=60,I=setInterval(()=>{V.value--,V.value<=0&&clearInterval(I)},1e3),v({title:"验证码已发送(模拟:123456)",icon:"none"})):v({title:"请输入正确手机号",icon:"none"})}function w(){if("phone"===b.value){if(!/^1[3-9]\d{9}$/.test(k.value))return void v({title:"请输入正确手机号",icon:"none"});if("123456"!==x.value)return void v({title:"验证码错误(模拟:123456)",icon:"none"})}else{if(!C.value||!y.value)return void v({title:"请输入账号和密码",icon:"none"});if("admin"!==C.value||"123456"!==y.value)return void v({title:"账号或密码错误(模拟:admin/123456)",icon:"none"})}g("isLogin",!0),a({url:"/pages/health/index"})}function U(){g("isLogin",!0),a({url:"/pages/health/index"})}function L(){_({url:"pages/guardian/index"})}function $(l){v({title:l,icon:"none"})}return m(()=>{e("isLogin")&&a({url:"/pages/health/index"})}),(l,e)=>{const a=i,v=s,g=f,_=p;return o(),n(v,{class:"login-bg"},{default:t(()=>[u(v,{class:"login-header"},{default:t(()=>[u(a,{class:"login-title"},{default:t(()=>[c("医影随护AI平台")]),_:1}),u(a,{class:"login-desc"},{default:t(()=>[c("智能健康管理，贴心医疗陪伴")]),_:1})]),_:1}),u(v,{class:"login-card"},{default:t(()=>[u(v,{class:"login-tabs"},{default:t(()=>[u(v,{class:d(["login-tab","phone"===b.value?"active":""]),onClick:e[0]||(e[0]=l=>b.value="phone")},{default:t(()=>[c("手机号登录")]),_:1},8,["class"]),u(v,{class:d(["login-tab","account"===b.value?"active":""]),onClick:e[1]||(e[1]=l=>b.value="account")},{default:t(()=>[c("账号密码登录")]),_:1},8,["class"])]),_:1}),"phone"===b.value?(o(),n(v,{key:0},{default:t(()=>[u(v,{class:"login-input"},{default:t(()=>[u(a,{class:"fas fa-mobile-alt input-icon"}),u(g,{modelValue:k.value,"onUpdate:modelValue":e[2]||(e[2]=l=>k.value=l),type:"text",maxlength:"11",placeholder:"请输入手机号"},null,8,["modelValue"])]),_:1}),u(v,{class:"code-row"},{default:t(()=>[u(v,{class:"login-input flex-1"},{default:t(()=>[u(a,{class:"fas fa-lock input-icon"}),u(g,{modelValue:x.value,"onUpdate:modelValue":e[3]||(e[3]=l=>x.value=l),type:"text",maxlength:"6",placeholder:"请输入验证码"},null,8,["modelValue"])]),_:1}),u(_,{class:"code-btn",disabled:V.value>0||!k.value,onClick:j},{default:t(()=>[c(r(V.value>0?V.value+"s":"获取验证码"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})):(o(),n(v,{key:1},{default:t(()=>[u(v,{class:"login-input"},{default:t(()=>[u(a,{class:"fas fa-user input-icon"}),u(g,{modelValue:C.value,"onUpdate:modelValue":e[4]||(e[4]=l=>C.value=l),type:"text",placeholder:"请输入账号"},null,8,["modelValue"])]),_:1}),u(v,{class:"login-input"},{default:t(()=>[u(a,{class:"fas fa-lock input-icon"}),u(g,{modelValue:y.value,"onUpdate:modelValue":e[5]||(e[5]=l=>y.value=l),type:"password",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1})]),_:1})),u(v,{class:"login-btns-row"},{default:t(()=>[u(_,{class:"login-btn",onClick:w},{default:t(()=>[c("登录")]),_:1}),u(_,{class:"guest-btn",onClick:U},{default:t(()=>[c("免注册体验")]),_:1})]),_:1}),u(v,{class:"login-links"},{default:t(()=>[u(a,{class:"link",onClick:e[6]||(e[6]=l=>$("请联系管理员重置密码"))},{default:t(()=>[c("忘记密码?")]),_:1}),u(a,{class:"link",onClick:e[7]||(e[7]=l=>$("请联系管理员注册账号"))},{default:t(()=>[c("注册账号")]),_:1})]),_:1}),u(_,{class:"guardian-btn",onClick:L},{default:t(()=>[c("监护人模式")]),_:1})]),_:1})]),_:1})}}},[["__scopeId","data-v-4600b3b0"]]);export{b as default};
